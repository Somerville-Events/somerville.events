<div class="event-row">
    <svg class="icon">
        <use href="#icon-calendar"></use>
    </svg>
    <div>
        <time datetime="{{ event.start_iso }}">{{ event.start_formatted }}</time>
        {% if let Some(end) = event.end_formatted %}
        <br>
        <time datetime="{{ event.end_iso }}">{{ end }}</time>
        {% endif %}
    </div>
</div>

<div class="event-row">
    <svg class="icon">
        <use href="#icon-map-pin"></use>
    </svg>
    <div>
        {% match event.location %}
        {% when EventLocation::Structured with { name, address, google_maps_link } %}
        <strong>{{ name }}</strong><br>
        <a href="{{ google_maps_link }}">{{ address }}</a>
        {% when EventLocation::Unstructured with (original) %}
        {{ original }}
        {% when EventLocation::Unknown %}
        {% endmatch %}
    </div>
</div>

<p>{{ event.description }}</p>

{% if !event.event_types.is_empty() %}
<div class="event-tags">
    {% for link in event.event_types %}
    <a href="{{ link.url }}" class="event-tag" style="border-color: {{ link.color }}; color: {{ link.color }}">{{
        link.icon|safe }} {{ link.label }}</a>
    {% endfor %}
</div>
{% endif %}

{% if let Some(restrictions) = event.age_restrictions %}
<p><strong>Ages:</strong> {{ restrictions }}</p>
{% endif %}

{% if let Some(price) = event.price %}
<p><strong>Price:</strong> ${{ price }}</p>
{% endif %}

{% if let Some(url) = event.website_link %}
<p><a href="{{ url }}" class="event-website">{{ url }}</a></p>
{% endif %}

<p>
    <a href="{{ event.google_calendar_url }}" class="button">Google Calendar</a>
    <a href="/event/{{ event.id }}.ical" class="button">Other Calendar</a>
</p>

<details>
    <summary>All details</summary>
    {% for paragraph in event.full_text_paragraphs %}
    <p>{{ paragraph }}</p>
    {% endfor %}
</details>