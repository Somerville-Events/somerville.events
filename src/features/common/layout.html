<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="color-scheme" content="light dark">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1">
    <title>{% block title %}Somerville Events{% endblock %}</title>
    <style>
        :root {
            --link-color: light-dark(rgb(27, 50, 100), rgb(125, 148, 197));

            /* Button Colors */
            --button-bg: light-dark(#e0e0e0, #1a1a1a);
            --button-text: light-dark(#333, #eee);
            --button-border: light-dark(#a0a0a0, #333);
            /* Highlight/Shadow colors for 3D effect */
            --button-highlight: light-dark(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.1));
            --button-shadow: rgba(0, 0, 0, 0.1);

            --primary-bg: #d13a26;
            --primary-text: #fff;
            --primary-shadow: #8c2415;

            /* Base Colors */
            --bg-color: light-dark(#fff, #000);
            --text-color: light-dark(#000, #fff);
            --text-muted: light-dark(#666, #aaa);

            /* Event Card Colors */
            --event-bg: light-dark(#fafafa, #1a1a1a);
            --event-hover-bg: light-dark(#ececec, #252525);
            --event-active-bg: light-dark(#e0e0e0, #303030);

            /* Tag Colors */
            --tag-bg: light-dark(#f0f0f0, #2a2a2a);
            --tag-hover-bg: light-dark(#d9d9d9, #3a3a3a);
        }

        body {
            font-family: system-ui, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.5;
            background-color: var(--bg-color);
            color: var(--text-color);
            padding: 1rem;
            box-sizing: border-box;
        }

        a {
            text-decoration: none;
            color: var(--link-color);
        }

        a:hover {
            text-decoration: underline;
        }

        header {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        main {
            padding-bottom: 2rem;
        }

        h1 {
            margin: 0 0 1rem;
            font-size: 2em;
            line-height: 1.1;
        }

        h2,
        h3 {
            margin: 0;
            font-size: 1em;
        }

        .header-with-icons {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
            /* Match h1 margin */
        }

        .header-with-icons h1 {
            margin-bottom: 0;
        }

        .header-icon svg {
            width: 2.5em;
            height: 2.5em;
            stroke-width: 2;
        }

        /* Event List Layout */
        .events-day {
            /* Full bleed on mobile pattern */
            margin-left: -1rem;
            margin-right: -1rem;
        }

        .events-day h2 {
            position: sticky;
            top: 0;
            background-color: var(--bg-color);
            padding: 0.5rem 1rem 0.25rem;
            z-index: 10;
            border-bottom: 1px solid var(--button-border);
            opacity: 0.95;
            backdrop-filter: blur(5px);
        }

        /* Event Card */
        .event-card {
            display: grid;
            grid-template-columns: 2.2rem 1fr auto;
            grid-template-rows: auto auto;
            column-gap: 0.75rem;
            row-gap: 0.1rem;
            align-items: baseline;
            padding: 0.8rem 1rem;
            background-color: var(--event-bg);
            color: var(--button-text);
            border-bottom: 1px solid var(--button-border);
            transition: background-color 0.1s;
        }

        .event-card:hover {
            text-decoration: none;
            background-color: var(--event-hover-bg);
        }

        .event-card:active {
            background-color: var(--event-active-bg);
        }

        /* Card Children */
        .event-card__icon {
            grid-column: 1;
            grid-row: 1 / -1;
            align-self: center;
            justify-self: center;
            display: flex;
        }

        .event-card__icon svg {
            width: 1.2rem;
            height: 1.2rem;
            stroke-width: 2.5;
        }

        .event-card h3 {
            grid-column: 2;
            grid-row: 1;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .event-card time {
            grid-column: 3;
            grid-row: 1;
            text-align: right;
            font-size: 0.9em;
            font-variant-numeric: tabular-nums;
            white-space: nowrap;
        }

        .event-card .secondary-time {
            grid-row: 2;
            color: var(--text-muted);
        }

        .event-card__location {
            grid-column: 2;
            grid-row: 2;
            font-size: 0.9em;
            color: var(--text-muted);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Detailed View Styles */
        .detail-row {
            display: flex;
            gap: 0.75rem;
            margin: 0.5rem 0;
            align-items: flex-start;
        }

        .detail-row .icon {
            margin-top: 0.2em;
            flex-shrink: 0;
            width: 1.2em;
            height: 1.2em;
        }

        .event-website {
            display: inline-block;
            max-width: 100%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            vertical-align: bottom;
        }

        .event-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 0.75rem 0;
        }

        .event-tag {
            padding: 0.2rem 0.6rem;
            font-size: 0.9em;
            background-color: var(--tag-bg);
            color: var(--link-color);
            border: 1px solid var(--button-border);
            border-radius: 1rem;
        }

        .event-tag:hover {
            background-color: var(--tag-hover-bg);
            color: var(--button-text);
        }

        .event-tag svg {
            width: 1em;
            height: 1em;
            vertical-align: -0.15em;
            margin-right: 0.1em;
        }

        /* Buttons */
        button,
        .button,
        input[type=file]::file-selector-button {
            display: inline-block;
            padding: 0.8rem 1.4rem;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            text-align: center;
            color: var(--button-text);
            background-color: var(--button-bg);
            border: none;
            border-radius: 4px;
            box-shadow:
                inset 1px 1px 0px var(--button-highlight),
                inset -1px -1px 0px var(--button-shadow),
                0 4px 0 var(--button-border),
                0 5px 8px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
        }

        button:active,
        .button:active,
        input[type=file]::file-selector-button:active {
            transform: translateY(4px);
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1), 0 0 0 var(--button-border);
        }

        .button.primary,
        button.primary,
        button[type=submit] {
            background-color: var(--primary-bg);
            color: var(--primary-text);
            box-shadow:
                inset 1px 1px 0px rgba(255, 255, 255, 0.2),
                inset -1px -1px 0px rgba(0, 0, 0, 0.2),
                0 4px 0 var(--primary-shadow),
                0 5px 8px rgba(0, 0, 0, 0.3);
        }

        .button.primary:active,
        button.primary:active,
        button[type=submit]:active {
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.2), 0 0 0 var(--primary-shadow);
        }

        .hidden {
            display: none !important;
        }
    </style>
    {% block head %}{% endblock %}
</head>

<body class="{% block body_class %}{% endblock %}">
    <svg xmlns="http://www.w3.org/2000/svg" class="hidden">
        <symbol id="icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
        </symbol>
        <symbol id="icon-map-pin" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
            <circle cx="12" cy="10" r="3"></circle>
        </symbol>
        <!-- Event Type Icons -->
        <symbol id="icon-tag" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z" />
            <path d="M7 7h.01" />
        </symbol>
        <symbol id="icon-palette" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <circle cx="13.5" cy="6.5" r=".5" />
            <circle cx="17.5" cy="10.5" r=".5" />
            <circle cx="8.5" cy="7.5" r=".5" />
            <circle cx="6.5" cy="12.5" r=".5" />
            <path
                d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z" />
        </symbol>
        <symbol id="icon-music" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M9 18V5l12-2v13" />
            <circle cx="6" cy="18" r="3" />
            <circle cx="18" cy="16" r="3" />
        </symbol>
        <symbol id="icon-utensils" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2" />
            <path d="M7 2v20" />
            <path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7" />
        </symbol>
        <symbol id="icon-heart-handshake" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path
                d="M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762" />
        </symbol>
        <symbol id="icon-users" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
            <circle cx="9" cy="7" r="4" />
            <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
            <path d="M16 3.13a4 4 0 0 1 0 7.75" />
        </symbol>
        <symbol id="icon-landmark" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M10 18v-7" />
            <path
                d="M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z" />
            <path d="M14 18v-7" />
            <path d="M18 18v-7" />
            <path d="M3 22h18" />
            <path d="M6 18v-7" />
        </symbol>
        <symbol id="icon-dollar-sign" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M11 15h2a2 2 0 1 0 0-4h-3c-1.1 0-2 .9-2 2a2 2 0 0 0 2 2h3" />
            <path d="m9 15-2 2H3l2-2" />
            <path d="m15 15 2 2h4l-2-2" />
            <path d="M12 12v3" />
            <path d="M12 11V3c5.5 0 5.5 8 0 8Z" />
        </symbol>
        <symbol id="icon-film" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <rect width="18" height="18" x="3" y="3" rx="2" />
            <path d="M7 3v18" />
            <path d="M3 7.5h4" />
            <path d="M3 12h18" />
            <path d="M3 16.5h4" />
            <path d="M17 3v18" />
            <path d="M17 7.5h4" />
            <path d="M17 16.5h4" />
        </symbol>
        <symbol id="icon-drama" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M10 11h.01" />
            <path d="M14 6h.01" />
            <path d="M18 6h.01" />
            <path d="M6.5 13.1h.01" />
            <path d="M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3" />
            <path d="M17.4 9.9c-.8.8-2 .8-2.8 0" />
            <path
                d="M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7" />
            <path d="M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4" />
        </symbol>
        <symbol id="icon-book-open" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
        </symbol>
        <symbol id="icon-wrench" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path
                d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" />
        </symbol>
        <symbol id="icon-trophy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6" />
            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18" />
            <path d="M4 22h16" />
            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22" />
            <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22" />
            <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z" />
        </symbol>
        <symbol id="icon-store" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7" />
            <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8" />
            <path d="M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4" />
            <path d="M2 7h20" />
            <path
                d="M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7" />
        </symbol>
        <symbol id="icon-baby" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5" />
            <path d="M15 12h.01" />
            <path
                d="M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1" />
            <path d="M9 12h.01" />
        </symbol>
        <symbol id="icon-party-popper" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M5.8 11.3 2 22l10.7-3.79" />
            <path d="M4 3h.01" />
            <path d="M22 8h.01" />
            <path d="M15 2h.01" />
            <path d="M22 20h.01" />
            <path
                d="m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10" />
            <path d="m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17" />
            <path d="m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7" />
            <path d="M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z" />
        </symbol>
        <symbol id="icon-church" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="m10 7 2-2 2 2" />
            <path d="M12 21v-6" />
            <path d="M12 11v-2" />
            <path d="M12 5V3" />
            <path d="M6 21v-4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v4" />
            <path d="M18 21v-4a6 6 0 0 0-12 0v4" />
        </symbol>
        <symbol id="icon-circle-help" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round"
            stroke-linejoin="round">
            <circle cx="12" cy="12" r="10" />
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
            <path d="M12 17h.01" />
        </symbol>
    </svg>
    {% block content %}{% endblock %}
</body>

</html>